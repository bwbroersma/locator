import wifi
import network
import time
import ugfx

# from https://radius.sha2017.org/probe/bssid_list
bssid2name={b'\x18\x64\x72\x81\xe8\x50':'radiostudio',b'\x18\x64\x72\x81\xe8\x51':'radiostudio',b'\x18\x64\x72\x81\xe8\x52':'radiostudio',b'\x18\x64\x72\x81\xe8\x53':'radiostudio',b'\x18\x64\x72\x81\xe8\x40':'radiostudio',b'\x18\x64\x72\x81\xe8\x41':'radiostudio',b'\x18\x64\x72\x81\xe8\x42':'radiostudio',b'\x18\x64\x72\x81\xe8\x43':'radiostudio',b'\x18\x64\x72\x9b\xf4\x70':'badge-bar',b'\x18\x64\x72\x9b\xf4\x71':'badge-bar',b'\x18\x64\x72\x9b\xf4\x72':'badge-bar',b'\x18\x64\x72\x9b\xf4\x73':'badge-bar',b'\x18\x64\x72\x9b\xf4\x60':'badge-bar',b'\x18\x64\x72\x9b\xf4\x61':'badge-bar',b'\x18\x64\x72\x9b\xf4\x62':'badge-bar',b'\x18\x64\x72\x9b\xf4\x63':'badge-bar',b'\x24\xde\xc6\xcb\xa1\x18':'Security',b'\x24\xde\xc6\xcb\xa1\x19':'Security',b'\x24\xde\xc6\xcb\xa1\x1a':'Security',b'\x24\xde\xc6\xcb\xa1\x1b':'Security',b'\x24\xde\xc6\xcb\xa1\x10':'Security',b'\x24\xde\xc6\xcb\xa1\x11':'Security',b'\x24\xde\xc6\xcb\xa1\x12':'Security',b'\x24\xde\xc6\xcb\xa1\x13':'Security',b'\x24\xde\xc6\xdd\x36\xf0':'dk-hopper-1',b'\x24\xde\xc6\xdd\x36\xf1':'dk-hopper-1',b'\x24\xde\xc6\xdd\x36\xf2':'dk-hopper-1',b'\x24\xde\xc6\xdd\x36\xf3':'dk-hopper-1',b'\x24\xde\xc6\xdd\x36\xe0':'dk-hopper-1',b'\x24\xde\xc6\xdd\x36\xe1':'dk-hopper-1',b'\x24\xde\xc6\xdd\x36\xe2':'dk-hopper-1',b'\x24\xde\xc6\xdd\x36\xe3':'dk-hopper-1',b'\x24\xde\xc6\xdf\x2a\x50':'dk-hopper-2',b'\x24\xde\xc6\xdf\x2a\x51':'dk-hopper-2',b'\x24\xde\xc6\xdf\x2a\x52':'dk-hopper-2',b'\x24\xde\xc6\xdf\x2a\x53':'dk-hopper-2',b'\x24\xde\xc6\xdf\x2a\x40':'dk-hopper-2',b'\x24\xde\xc6\xdf\x2a\x41':'dk-hopper-2',b'\x24\xde\xc6\xdf\x2a\x42':'dk-hopper-2',b'\x24\xde\xc6\xdf\x2a\x43':'dk-hopper-2',b'\x24\xde\xc6\xdf\x64\x90':'dk-uplink-2',b'\x24\xde\xc6\xdf\x64\x91':'dk-uplink-2',b'\x24\xde\xc6\xdf\x64\x92':'dk-uplink-2',b'\x24\xde\xc6\xdf\x64\x93':'dk-uplink-2',b'\x24\xde\xc6\xdf\x64\x80':'dk-uplink-2',b'\x24\xde\xc6\xdf\x64\x81':'dk-uplink-2',b'\x24\xde\xc6\xdf\x64\x82':'dk-uplink-2',b'\x24\xde\xc6\xdf\x64\x83':'dk-uplink-2',b'\x24\xde\xc6\xe0\x4b\xf0':'dk-flowers-1',b'\x24\xde\xc6\xe0\x4b\xf1':'dk-flowers-1',b'\x24\xde\xc6\xe0\x4b\xf2':'dk-flowers-1',b'\x24\xde\xc6\xe0\x4b\xf3':'dk-flowers-1',b'\x24\xde\xc6\xe0\x4b\xe0':'dk-flowers-1',b'\x24\xde\xc6\xe0\x4b\xe1':'dk-flowers-1',b'\x24\xde\xc6\xe0\x4b\xe2':'dk-flowers-1',b'\x24\xde\xc6\xe0\x4b\xe3':'dk-flowers-1',b'\x24\xde\xc6\x0f\x4b\x30':'POC',b'\x24\xde\xc6\x0f\x4b\x31':'POC',b'\x24\xde\xc6\x0f\x4b\x32':'POC',b'\x24\xde\xc6\x0f\x4b\x33':'POC',b'\x24\xde\xc6\x0f\x4b\x20':'POC',b'\x24\xde\xc6\x0f\x4b\x21':'POC',b'\x24\xde\xc6\x0f\x4b\x23':'POC',b'\x24\xde\xc6\x0f\x4b\x24':'POC',b'\x24\xde\xc6\x0f\x50\x90':'dk-alexander-2',b'\x24\xde\xc6\x0f\x50\x91':'dk-alexander-2',b'\x24\xde\xc6\x0f\x50\x92':'dk-alexander-2',b'\x24\xde\xc6\x0f\x50\x93':'dk-alexander-2',b'\x24\xde\xc6\x0f\x50\x80':'dk-alexander-2',b'\x24\xde\xc6\x0f\x50\x81':'dk-alexander-2',b'\x24\xde\xc6\x0f\x50\x82':'dk-alexander-2',b'\x24\xde\xc6\x0f\x50\x83':'dk-alexander-2',b'\x34\xfc\xb9\x19\x69\x50':'workshop-tau',b'\x34\xfc\xb9\x19\x69\x51':'workshop-tau',b'\x34\xfc\xb9\x19\x69\x52':'workshop-tau',b'\x34\xfc\xb9\x19\x69\x53':'workshop-tau',b'\x40\xe3\xd6\xb7\x6a\x90':'pancake-village',b'\x40\xe3\xd6\xb7\x6a\x91':'pancake-village',b'\x40\xe3\xd6\xb7\x6a\x92':'pancake-village',b'\x40\xe3\xd6\xb7\x6a\x93':'pancake-village',b'\x40\xe3\xd6\xb7\x6a\x80':'pancake-village',b'\x40\xe3\xd6\xb7\x6a\x81':'pancake-village',b'\x40\xe3\xd6\xb7\x6a\x82':'pancake-village',b'\x40\xe3\xd6\xb7\x6a\x83':'pancake-village',b'\x40\xe3\xd6\x24\x0f\xb0':'Parking',b'\x40\xe3\xd6\x24\x0f\xb1':'Parking',b'\x40\xe3\xd6\x24\x0f\xb2':'Parking',b'\x40\xe3\xd6\x24\x0f\xb3':'Parking',b'\x40\xe3\xd6\x24\x0f\xa0':'Parking',b'\x40\xe3\xd6\x24\x0f\xa1':'Parking',b'\x40\xe3\xd6\x24\x0f\xa2':'Parking',b'\x40\xe3\xd6\x24\x0f\xa3':'Parking',b'\x6c\xf3\x7f\xa5\xce\x00':'DK-Lamarr-5',b'\x6c\xf3\x7f\xa5\xce\x01':'DK-Lamarr-5',b'\x6c\xf3\x7f\xa5\xce\x02':'DK-Lamarr-5',b'\x6c\xf3\x7f\xa5\xce\x03':'DK-Lamarr-5',b'\x6c\xf3\x7f\xb2\x40\x90':'dk-torvalds-4',b'\x6c\xf3\x7f\xb2\x40\x91':'dk-torvalds-4',b'\x6c\xf3\x7f\xb2\x40\x92':'dk-torvalds-4',b'\x6c\xf3\x7f\xb2\x40\x93':'dk-torvalds-4',b'\x6c\xf3\x7f\xb2\x40\x80':'dk-torvalds-4',b'\x6c\xf3\x7f\xb2\x40\x81':'dk-torvalds-4',b'\x6c\xf3\x7f\xb2\x40\x82':'dk-torvalds-4',b'\x6c\xf3\x7f\xb2\x40\x83':'dk-torvalds-4',b'\x6c\xf3\x7f\xb8\x45\xf0':'dk-liskov-2',b'\x6c\xf3\x7f\xb8\x45\xf1':'dk-liskov-2',b'\x6c\xf3\x7f\xb8\x45\xf2':'dk-liskov-2',b'\x6c\xf3\x7f\xb8\x45\xf3':'dk-liskov-2',b'\x6c\xf3\x7f\xb8\x4b\x70':'DK-Lamarr-1',b'\x6c\xf3\x7f\xb8\x4b\x71':'DK-Lamarr-1',b'\x6c\xf3\x7f\xb8\x4b\x72':'DK-Lamarr-1',b'\x6c\xf3\x7f\xb8\x4b\x73':'DK-Lamarr-1',b'\x6c\xf3\x7f\x56\x1a\xd0':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1a\xd1':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1a\xd2':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1a\xd3':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1a\xc0':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1a\xc1':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1a\xc2':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1a\xc3':'dk-olsen-3',b'\x6c\xf3\x7f\x56\x1b\x90':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x1b\x91':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x1b\x92':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x1b\x93':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x1b\x80':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x1b\x81':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x1b\x82':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x1b\x83':'dk-olsen-1',b'\x6c\xf3\x7f\x56\x2f\x50':'dk-turing-1',b'\x6c\xf3\x7f\x56\x2f\x51':'dk-turing-1',b'\x6c\xf3\x7f\x56\x2f\x52':'dk-turing-1',b'\x6c\xf3\x7f\x56\x2f\x53':'dk-turing-1',b'\x6c\xf3\x7f\x56\x2f\x40':'dk-turing-1',b'\x6c\xf3\x7f\x56\x2f\x41':'dk-turing-1',b'\x6c\xf3\x7f\x56\x2f\x42':'dk-turing-1',b'\x6c\xf3\x7f\x56\x2f\x43':'dk-turing-1',b'\x6c\xf3\x7f\x5f\xd7\x90':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xd7\x91':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xd7\x92':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xd7\x93':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xd7\x80':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xd7\x81':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xd7\x82':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xd7\x83':'dk-turing-2',b'\x6c\xf3\x7f\x5f\xeb\xf0':'dk-wilson',b'\x6c\xf3\x7f\x5f\xeb\xf1':'dk-wilson',b'\x6c\xf3\x7f\x5f\xeb\xf2':'dk-wilson',b'\x6c\xf3\x7f\x5f\xeb\xf3':'dk-wilson',b'\x6c\xf3\x7f\x5f\xeb\xe0':'dk-wilson',b'\x6c\xf3\x7f\x5f\xeb\xe1':'dk-wilson',b'\x6c\xf3\x7f\x5f\xeb\xe2':'dk-wilson',b'\x6c\xf3\x7f\x5f\xeb\xe3':'dk-wilson',b'\x84\xd4\x7e\xac\xdc\x90':'Orga',b'\x84\xd4\x7e\xac\xdc\x91':'Orga',b'\x84\xd4\x7e\xac\xdc\x92':'Orga',b'\x84\xd4\x7e\xac\xdc\x93':'Orga',b'\x84\xd4\x7e\xac\xdc\x80':'Orga',b'\x84\xd4\x7e\xac\xdc\x81':'Orga',b'\x84\xd4\x7e\xac\xdc\x82':'Orga',b'\x84\xd4\x7e\xac\xdc\x83':'Orga',b'\x94\xb4\x0f\x32\x0b\xf0':'ap-zuse',b'\x94\xb4\x0f\x32\x0b\xf1':'ap-zuse',b'\x94\xb4\x0f\x32\x0b\xf2':'ap-zuse',b'\x94\xb4\x0f\x32\x0b\xf3':'ap-zuse',b'\x94\xb4\x0f\x32\x0b\xe0':'ap-zuse',b'\x94\xb4\x0f\x32\x0b\xe1':'ap-zuse',b'\x94\xb4\x0f\x32\x0b\xe2':'ap-zuse',b'\x94\xb4\x0f\x32\x0b\xe3':'ap-zuse',b'\x94\xb4\x0f\x53\x55\x90':'AV',b'\x94\xb4\x0f\x53\x55\x91':'AV',b'\x94\xb4\x0f\x53\x55\x92':'AV',b'\x94\xb4\x0f\x53\x55\x93':'AV',b'\x94\xb4\x0f\x53\x55\x80':'AV',b'\x94\xb4\x0f\x53\x55\x81':'AV',b'\x94\xb4\x0f\x53\x55\x82':'AV',b'\x94\xb4\x0f\x53\x55\x83':'AV',b'\x9c\x1c\x12\xb0\x25\x90':'dk-uplink-1',b'\x9c\x1c\x12\xb0\x25\x91':'dk-uplink-1',b'\x9c\x1c\x12\xb0\x25\x92':'dk-uplink-1',b'\x9c\x1c\x12\xb0\x25\x93':'dk-uplink-1',b'\x9c\x1c\x12\xb0\x25\x80':'dk-uplink-1',b'\x9c\x1c\x12\xb0\x25\x81':'dk-uplink-1',b'\x9c\x1c\x12\xb0\x25\x82':'dk-uplink-1',b'\x9c\x1c\x12\xb0\x25\x83':'dk-uplink-1',b'\xac\xa3\x1e\x81\x06\x70':'L0-TEMP',b'\xac\xa3\x1e\x81\x06\x71':'L0-TEMP',b'\xac\xa3\x1e\x81\x06\x72':'L0-TEMP',b'\xac\xa3\x1e\x81\x06\x73':'L0-TEMP',b'\xac\xa3\x1e\x81\x06\x60':'L0-TEMP',b'\xac\xa3\x1e\x81\x06\x61':'L0-TEMP',b'\xac\xa3\x1e\x81\x06\x62':'L0-TEMP',b'\xac\xa3\x1e\x81\x06\x63':'L0-TEMP',b'\xac\xa3\x1e\x81\x14\x80':'ap-southtrunk-1',b'\xac\xa3\x1e\x81\x14\x81':'ap-southtrunk-1',b'\xac\xa3\x1e\x81\x14\x82':'ap-southtrunk-1',b'\xac\xa3\x1e\x81\x14\x83':'ap-southtrunk-1',b'\xac\xa3\x1e\x83\x88\x10':'Entrance-1',b'\xac\xa3\x1e\x83\x88\x11':'Entrance-1',b'\xac\xa3\x1e\x83\x88\x12':'Entrance-1',b'\xac\xa3\x1e\x83\x88\x13':'Entrance-1',b'\xac\xa3\x1e\x83\x88\x00':'Entrance-1',b'\xac\xa3\x1e\x83\x88\x01':'Entrance-1',b'\xac\xa3\x1e\x83\x88\x02':'Entrance-1',b'\xac\xa3\x1e\x83\x88\x03':'Entrance-1',b'\xac\xa3\x1e\x87\x4e\x00':'AP-Lamarr-Forest',b'\xac\xa3\x1e\x87\x4e\x01':'AP-Lamarr-Forest',b'\xac\xa3\x1e\x87\x4e\x02':'AP-Lamarr-Forest',b'\xac\xa3\x1e\x87\x4e\x03':'AP-Lamarr-Forest',b'\xac\xa3\x1e\xd9\x5e\xd0':'silentlounge-a',b'\xac\xa3\x1e\xd9\x5e\xd1':'silentlounge-a',b'\xac\xa3\x1e\xd9\x5e\xd2':'silentlounge-a',b'\xac\xa3\x1e\xd9\x5e\xd3':'silentlounge-a',b'\xac\xa3\x1e\xd9\x5e\xc0':'silentlounge-a',b'\xac\xa3\x1e\xd9\x5e\xc1':'silentlounge-a',b'\xac\xa3\x1e\xd9\x5e\xc2':'silentlounge-a',b'\xac\xa3\x1e\xd9\x5e\xc3':'silentlounge-a',b'\xac\xa3\x1e\xde\xaa\xf0':'silentlounge-b',b'\xac\xa3\x1e\xde\xaa\xf1':'silentlounge-b',b'\xac\xa3\x1e\xde\xaa\xf2':'silentlounge-b',b'\xac\xa3\x1e\xde\xaa\xf3':'silentlounge-b',b'\xac\xa3\x1e\xde\xaa\xe0':'silentlounge-b',b'\xac\xa3\x1e\xde\xaa\xe1':'silentlounge-b',b'\xac\xa3\x1e\xde\xaa\xe2':'silentlounge-b',b'\xac\xa3\x1e\xde\xaa\xe3':'silentlounge-b',b'\xd8\xc7\xc8\x8d\x96\xb0':'DK-Rhodes-2',b'\xd8\xc7\xc8\x8d\x96\xb1':'DK-Rhodes-2',b'\xd8\xc7\xc8\x8d\x96\xb2':'DK-Rhodes-2',b'\xd8\xc7\xc8\x8d\x96\xb3':'DK-Rhodes-2',b'\xd8\xc7\xc8\x4a\xe7\x70':'dk-alexander-1',b'\xd8\xc7\xc8\x4a\xe7\x71':'dk-alexander-1',b'\xd8\xc7\xc8\x4a\xe7\x72':'dk-alexander-1',b'\xd8\xc7\xc8\x4a\xe7\x73':'dk-alexander-1',b'\xd8\xc7\xc8\x4a\xe7\x60':'dk-alexander-1',b'\xd8\xc7\xc8\x4a\xe7\x61':'dk-alexander-1',b'\xd8\xc7\xc8\x4a\xe7\x62':'dk-alexander-1',b'\xd8\xc7\xc8\x4a\xe7\x63':'dk-alexander-1',b'\xd8\xc7\xc8\x4d\x78\x10':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\x78\x11':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\x78\x12':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\x78\x13':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\x78\x00':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\x78\x01':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\x78\x02':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\x78\x03':'dk-snowden-1',b'\xd8\xc7\xc8\x4d\xd0\xd0':'dk-snowden-3',b'\xd8\xc7\xc8\x4d\xd0\xd1':'dk-snowden-3',b'\xd8\xc7\xc8\x4d\xd0\xd2':'dk-snowden-3',b'\xd8\xc7\xc8\x4d\xd0\xd3':'dk-snowden-3',b'\xd8\xc7\xc8\x4d\xd0\xc0':'dk-snowden-3',b'\xd8\xc7\xc8\x4d\xd0\xc1':'dk-snowden-3',b'\xd8\xc7\xc8\x4d\xd0\xc2':'dk-snowden-3',b'\xd8\xc7\xc8\x4d\xd0\xc3':'dk-snowden-3',b'\xf0\x5c\x19\x22\x86\xb0':'track-1-d',b'\xf0\x5c\x19\x22\x86\xb1':'track-1-d',b'\xf0\x5c\x19\x22\x86\xb2':'track-1-d',b'\xf0\x5c\x19\x22\x86\xb3':'track-1-d',b'\xf0\x5c\x19\x22\x86\xa0':'track-1-d',b'\xf0\x5c\x19\x22\x86\xa1':'track-1-d',b'\xf0\x5c\x19\x22\x86\xa2':'track-1-d',b'\xf0\x5c\x19\x22\x86\xa3':'track-1-d',b'\xf0\x5c\x19\x22\x8c\x90':'track-2-e',b'\xf0\x5c\x19\x22\x8c\x91':'track-2-e',b'\xf0\x5c\x19\x22\x8c\x92':'track-2-e',b'\xf0\x5c\x19\x22\x8c\x93':'track-2-e',b'\xf0\x5c\x19\x22\x8c\x80':'track-2-e',b'\xf0\x5c\x19\x22\x8c\x81':'track-2-e',b'\xf0\x5c\x19\x22\x8c\x82':'track-2-e',b'\xf0\x5c\x19\x22\x8c\x83':'track-2-e',b'\xf0\x5c\x19\x22\x91\x30':'track-2-b',b'\xf0\x5c\x19\x22\x91\x31':'track-2-b',b'\xf0\x5c\x19\x22\x91\x32':'track-2-b',b'\xf0\x5c\x19\x22\x91\x33':'track-2-b',b'\xf0\x5c\x19\x22\x91\x20':'track-2-b',b'\xf0\x5c\x19\x22\x91\x21':'track-2-b',b'\xf0\x5c\x19\x22\x91\x22':'track-2-b',b'\xf0\x5c\x19\x22\x91\x23':'track-2-b',b'\xf0\x5c\x19\x22\xb2\x30':'track-2-d',b'\xf0\x5c\x19\x22\xb2\x31':'track-2-d',b'\xf0\x5c\x19\x22\xb2\x32':'track-2-d',b'\xf0\x5c\x19\x22\xb2\x33':'track-2-d',b'\xf0\x5c\x19\x22\xb2\x20':'track-2-d',b'\xf0\x5c\x19\x22\xb2\x21':'track-2-d',b'\xf0\x5c\x19\x22\xb2\x22':'track-2-d',b'\xf0\x5c\x19\x22\xb2\x23':'track-2-d',b'\xf0\x5c\x19\x22\xb5\x50':'track-1-f',b'\xf0\x5c\x19\x22\xb5\x51':'track-1-f',b'\xf0\x5c\x19\x22\xb5\x52':'track-1-f',b'\xf0\x5c\x19\x22\xb5\x53':'track-1-f',b'\xf0\x5c\x19\x22\xb5\x40':'track-1-f',b'\xf0\x5c\x19\x22\xb5\x41':'track-1-f',b'\xf0\x5c\x19\x22\xb5\x42':'track-1-f',b'\xf0\x5c\x19\x22\xb5\x43':'track-1-f',b'\xf0\x5c\x19\x22\xb7\xf0':'track-2-f',b'\xf0\x5c\x19\x22\xb7\xf1':'track-2-f',b'\xf0\x5c\x19\x22\xb7\xf2':'track-2-f',b'\xf0\x5c\x19\x22\xb7\xf3':'track-2-f',b'\xf0\x5c\x19\x22\xb7\xe0':'track-2-f',b'\xf0\x5c\x19\x22\xb7\xe1':'track-2-f',b'\xf0\x5c\x19\x22\xb7\xe2':'track-2-f',b'\xf0\x5c\x19\x22\xb7\xe3':'track-2-f',b'\xf0\x5c\x19\x22\xb8\xb0':'track-3-c',b'\xf0\x5c\x19\x22\xb8\xb1':'track-3-c',b'\xf0\x5c\x19\x22\xb8\xb2':'track-3-c',b'\xf0\x5c\x19\x22\xb8\xb3':'track-3-c',b'\xf0\x5c\x19\x22\xb8\xa0':'track-3-c',b'\xf0\x5c\x19\x22\xb8\xa1':'track-3-c',b'\xf0\x5c\x19\x22\xb8\xa2':'track-3-c',b'\xf0\x5c\x19\x22\xb8\xa3':'track-3-c',b'\xf0\x5c\x19\x23\x75\xd0':'track-1-a',b'\xf0\x5c\x19\x23\x75\xd1':'track-1-a',b'\xf0\x5c\x19\x23\x75\xd2':'track-1-a',b'\xf0\x5c\x19\x23\x75\xd3':'track-1-a',b'\xf0\x5c\x19\x23\x75\xc0':'track-1-a',b'\xf0\x5c\x19\x23\x75\xc1':'track-1-a',b'\xf0\x5c\x19\x23\x75\xc2':'track-1-a',b'\xf0\x5c\x19\x23\x75\xc3':'track-1-a'}
ugfx.init()
wifi.init()

def clearscreen():
	# clear the screen 3 times
	for x in range(0, 3):
		ugfx.clear(ugfx.WHITE)
		ugfx.flush()
		ugfx.clear(ugfx.BLACK)
		ugfx.flush()

def show(text):
	ugfx.clear()
	ugfx.string(10, 10, text, 'Roboto_Regular18', ugfx.BLACK)
	ugfx.flush()

def wifi2name():
	wlan = network.WLAN(network.STA_IF)
	wlan.active("up")
	# Each result is a tuple: (ssid, bssid, channel, RSSI, authmode, hidden)
	results = wlan.scan()
	# only check BSSids on the list (since there are a lot of rogue APs)
	filtered = [entry for entry in results if entry[1] in bssid2name]

	strongest_ap = max(filtered, key=lambda ap: ap[3])
	bssid = strongest_ap[1]
	# ssid = strongest_ap[0]
	macaddress = ":".join(hex(x)[2:] for x in bssid)
	location = bssid2name.get(bssid)
	if (location):
		return location
	return macaddress

# wait for wifi
while not wifi.sta_if.isconnected():
	time.sleep(0.1)

show(wifi2name())

# networking docs:
# https://github.com/micropython/micropython-esp32/blob/046d15f074398cc2968fc66ae2fd25dc31100109/docs/library/network.rst
# https://github.com/micropython/micropython-esp32/blob/ec9c2778867fbb4d0ef1ebf5ace6433b01589d05/docs/esp8266/tutorial/network_basics.rst
